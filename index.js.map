{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchPhotosByQuery = query => {\n    const searchParams = new URLSearchParams({\n        key: '48301172-ef8913a37f764f18c5dbf5629',\n        q: query,\n        image_type: 'photo', \n        orientation: 'horizontal',\n        safesearch: true,\n      });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => {\n            if(!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\nexport const createGalleryCardTemplate = image => {\n    return `<div class=\"gallery\">\n                   <a href='${image.largeImageURL}'>\n                   <img src='${image.webformatURL}' alt='${image.tags}'/>\n                   </a>\n                  <div class='comment-box'>\n                    <p class='img-comment'><b class='img-comment-title'>Likes</b>: ${image.likes}</p>\n                    <p class='img-comment'><b class='img-comment-title'>Views</b>: ${image.views}</p>\n                    <p class='img-comment'><b class='img-comment-title'>Comments</b>: ${image.comments}</p>\n                    <p class='img-comment'><b class='img-comment-title'>Downloads</b>: ${image.downloads}</p>\n                  </div>\n                </div>\n                <button id=\"load-more\" class=\"hidden\">Load more</button>`;\n};\n\n   \n","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \n\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nconst searchForm = document.querySelector('.user-search');\nconst inputSearchImages = document.querySelector('#input-search');\nconst resultsDiv = document.querySelector('#results');\nconst loader = document.querySelector('#loader-js');\n\nlet lightbox = new SimpleLightbox('.gallery a', { captionsData: \"alt\", captionDelay: 250 });\n\nconst onSearchFormeSubmit = event => {\n    event.preventDefault();\n\n    const searchedQuery = inputSearchImages.value.trim();\n    \n    if (!searchedQuery) {\n        iziToast.error({\n            title: 'Error',\n            message: 'The search field cannot be empty. Please try again!',\n            position: 'topRight'\n        });\n        return;\n    }\n    resultsDiv.innerHTML = '';\n    inputSearchImages.value = '';\n    loader.classList.remove('hidden');\n\n    fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n        loader.classList.add('hidden');\n\n        if (data.hits.length === 0) {\n            iziToast.warning({\n                title: 'No results',\n                message: 'No images found for your query!',\n                position: 'topRight',\n            });\n            return;\n        }\n\n        resultsDiv.innerHTML = data.hits.map(createGalleryCardTemplate).join('');\n\n        lightbox.refresh();\n\n    }) \n    .catch(error => {\n        loader.classList.add('hidden'); \n        iziToast.error({\n            title: 'Error',\n            message: 'An error occurred. Please try again!',\n            position: 'topRight'\n        });\n        console.error(error);\n    })\n    .finally(() => {\n        searchForm.reset();\n    });\n};\n\nsearchForm.addEventListener('submit', onSearchFormeSubmit);"],"names":["fetchPhotosByQuery","query","searchParams","response","createGalleryCardTemplate","image","searchForm","inputSearchImages","resultsDiv","loader","lightbox","SimpleLightbox","onSearchFormeSubmit","event","searchedQuery","iziToast","data","error"],"mappings":"6vBAAO,MAAMA,EAAqBC,GAAS,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAO,EAEH,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAClD,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECbaC,EAA4BC,GAC9B;AAAA,8BACmBA,EAAM,aAAa;AAAA,+BAClBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qFAGgBA,EAAM,KAAK;AAAA,qFACXA,EAAM,KAAK;AAAA,wFACRA,EAAM,QAAQ;AAAA,yFACbA,EAAM,SAAS;AAAA;AAAA;AAAA,0ECDlGC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAoB,SAAS,cAAc,eAAe,EAC1DC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,YAAY,EAElD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EAE1F,MAAMC,EAAsBC,GAAS,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBP,EAAkB,MAAM,KAAI,EAElD,GAAI,CAACO,EAAe,CAChBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,sDACT,SAAU,UACtB,CAAS,EACD,MACH,CACDP,EAAW,UAAY,GACvBD,EAAkB,MAAQ,GAC1BE,EAAO,UAAU,OAAO,QAAQ,EAEhCT,EAAmBc,CAAa,EAC/B,KAAKE,GAAQ,CAGV,GAFAP,EAAO,UAAU,IAAI,QAAQ,EAEzBO,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,QAAQ,CACb,MAAO,aACP,QAAS,kCACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDP,EAAW,UAAYQ,EAAK,KAAK,IAAIZ,CAAyB,EAAE,KAAK,EAAE,EAEvEM,EAAS,QAAO,CAExB,CAAK,EACA,MAAMO,GAAS,CACZR,EAAO,UAAU,IAAI,QAAQ,EAC7BM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,uCACT,SAAU,UACtB,CAAS,EACD,QAAQ,MAAME,CAAK,CAC3B,CAAK,EACA,QAAQ,IAAM,CACXX,EAAW,MAAK,CACxB,CAAK,CACL,EAEAA,EAAW,iBAAiB,SAAUM,CAAmB"}